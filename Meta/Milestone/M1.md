# Milestone 1: Project Scaffolding

- **Status**: Draft
- **Target Date**: 2026-02-28
- **Owner**: Wayne

## Goal

Establish the foundational project structure, CLI tooling, and basic development environment for Inxtone.

## Scope

### In Scope
- pnpm monorepo setup (packages/core, packages/tui, packages/web, packages/server)
- `inxtone init` command - create new project structure
- `inxtone serve` command - start local web server
- SQLite database initialization with basic schema
- Basic web UI shell (React + Vite)
- Project config file (inxtone.toml)

### Out of Scope
- AI integration
- Writing features (editor, AI sidebar)
- Quality checking (Wayne principles)
- Export functionality
- Search functionality

## Deliverables

| Deliverable | Description | Acceptance Criteria |
|-------------|-------------|---------------------|
| CLI binary | `inxtone` executable | Can run `inxtone --version` |
| Init command | Project scaffolding | Creates standard folder structure |
| Serve command | Local web server | Opens localhost:3456 |
| Database | SQLite schema | Core tables created |
| Web shell | Basic React app | Shows project info, empty dashboard |

## Tasks

### Setup
- [ ] Initialize pnpm workspace with packages structure
- [ ] Configure TypeScript (tsconfig.json)
- [ ] Set up ESLint + Prettier
- [ ] Configure Vitest for testing
- [ ] Create package.json scripts (dev, build, test, lint)

### CLI (packages/tui)
- [ ] Create CLI entry point with Ink
- [ ] Implement `inxtone --version`
- [ ] Implement `inxtone init [name]`
- [ ] Implement `inxtone serve [--port]`
- [ ] Add help text and usage documentation

### Core (packages/core)
- [ ] Define project config schema (inxtone.toml)
- [ ] Create config loader/parser
- [ ] Implement Database class with better-sqlite3
- [ ] Create initial schema migrations
- [ ] Add database initialization logic

### Web (packages/web)
- [ ] Scaffold React + Vite app
- [ ] Create AppShell component (header, sidebar, content)
- [ ] Implement basic routing (/, /project, /settings)
- [ ] Add dashboard placeholder
- [ ] Style with design system tokens

### Server (packages/server)
- [ ] Set up Fastify server
- [ ] Add static file serving for web build
- [ ] Create health check endpoint
- [ ] Add CORS configuration for development

## Dependencies

- None (first milestone)

## Test Plan

1. Run `pnpm install` - should complete without errors
2. Run `pnpm build` - all packages build successfully
3. Run `pnpm test` - all tests pass
4. Run `inxtone init test-project` - creates valid structure
5. Run `inxtone serve` in test-project - opens browser to working UI
6. Verify SQLite database created with correct schema

## Risks

| Risk | Likelihood | Impact | Mitigation |
|------|------------|--------|------------|
| Ink compatibility issues | Low | Medium | Test early, have fallback to pure Node |
| SQLite binding issues | Low | High | Use well-maintained better-sqlite3 |
| Monorepo complexity | Medium | Low | Follow pnpm best practices |

## Notes

This milestone focuses on the "walking skeleton" - a minimal end-to-end implementation that proves the architecture works. Features will be added in subsequent milestones.
