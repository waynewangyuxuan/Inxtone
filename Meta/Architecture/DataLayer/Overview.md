# DataLayer Overview

> 核心架构与项目文件结构

## 核心架构

```
┌─────────────────────────────────────────────────────────────┐
│                        SQLite                                │
│                   (Source of Truth)                          │
├─────────────────────────────────────────────────────────────┤
│  · 内容数据：角色、世界观、剧情、章节                         │
│  · 元数据：检查结果、版本历史、配置                           │
│  · 索引数据：向量嵌入、全文搜索                               │
└─────────────────────────────────────────────────────────────┘
                    ↑                    ↓
               导入（可选）            导出
                    ↑                    ↓
┌─────────────────────────────────────────────────────────────┐
│                       Markdown                               │
│                    (导出/分享格式)                            │
├─────────────────────────────────────────────────────────────┤
│  · 人类可读                                                  │
│  · 分享给他人                                                │
│  · 用其他工具打开（VS Code, Obsidian...）                    │
└─────────────────────────────────────────────────────────────┘
```

## 项目文件结构

```
my-novel/
├── inxtone.db                 # SQLite 数据库（Source of Truth）
├── inxtone.yaml               # 项目配置（覆盖用户/默认配置）
│
├── exports/                   # 导出目录（Markdown）
│   ├── story-bible/
│   │   ├── characters/
│   │   ├── world/
│   │   ├── plot/
│   │   └── ...
│   └── draft/
│       ├── vol_01/
│       │   ├── ch_001.md
│       │   └── ...
│       └── ...
│
└── assets/                    # 附件（图片、参考资料）
    └── ...
```

## 用户全局配置

```
~/.inxtone/
├── config.yaml               # 全局配置
├── templates/                # 项目模板
│   ├── default/
│   └── custom/
└── inxtone.db                # 全局数据（用户配置、预设等）
```
